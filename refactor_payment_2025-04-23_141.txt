Refactor payment gateway for service (efficient)
